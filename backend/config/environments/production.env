# ============================================================================
# ChronoRetrace Production Environment Configuration
# ============================================================================

# Environment
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=WARNING

# Database Configuration
DATABASE_URL=postgresql://chronoretrace:${POSTGRES_PASSWORD}@postgres:5432/chronoretrace
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_TIMEOUT=60
DATABASE_POOL_RECYCLE=3600

# Redis Configuration
REDIS_URL=${REDIS_URL}
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50
REDIS_RETRY_ON_TIMEOUT=true

# JWT Authentication
JWT_SECRET_KEY=${JWT_SECRET_KEY}
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Security Settings
SECRET_KEY=${SECRET_KEY}
PASSWORD_HASH_ALGORITHM=bcrypt
PASSWORD_MIN_LENGTH=12
SESSION_EXPIRE_HOURS=8
SECURE_COOKIES=true
HTTPS_ONLY=true

# API Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10
RATE_LIMIT_ENABLED=true
RATE_LIMIT_STORAGE_URL=${REDIS_URL}

# CORS Configuration
CORS_ALLOWED_ORIGINS=${CORS_ALLOWED_ORIGINS}
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Content-Type,Authorization,X-Requested-With

# IP Whitelist
IP_WHITELIST_ENABLED=${IP_WHITELIST_ENABLED:-false}
IP_WHITELIST=${IP_WHITELIST:-}

# Third-party API Keys
TUSHARE_API_TOKEN=${TUSHARE_API_TOKEN}
ALPHAVANTAGE_API_KEY=${ALPHAVANTAGE_API_KEY}
FINNHUB_API_KEY=${FINNHUB_API_KEY}
QUANDL_API_KEY=${QUANDL_API_KEY}

# Cache Configuration
CACHE_TTL_SECONDS=1800
CACHE_ENABLED=true
CACHE_PREFIX=chronoretrace:prod
CACHE_COMPRESSION=true
CACHE_SERIALIZER=pickle

# Performance Settings
WORKERS=${WORKERS:-4}
MAX_CONNECTIONS=1000
KEEP_ALIVE=5
TIMEOUT_KEEP_ALIVE=5
TIMEOUT_GRACEFUL_SHUTDOWN=30

# Monitoring
MONITORING_ENABLED=true
METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true
PERFORMANCE_MONITORING=true
ERROR_TRACKING_ENABLED=true
SENTRY_DSN=${SENTRY_DSN}

# File Upload
MAX_FILE_SIZE=52428800  # 50MB
UPLOAD_PATH=/app/uploads
ALLOWED_FILE_TYPES=csv,xlsx,json

# Email Configuration
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=${SMTP_PORT:-587}
SMTP_USERNAME=${SMTP_USERNAME}
SMTP_PASSWORD=${SMTP_PASSWORD}
SMTP_USE_TLS=${SMTP_USE_TLS:-true}
FROM_EMAIL=${FROM_EMAIL}
ADMIN_EMAIL=${ADMIN_EMAIL}

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=6
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=${BACKUP_S3_BUCKET}
BACKUP_S3_REGION=${BACKUP_S3_REGION}
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}

# Feature Flags
FEATURE_REAL_TIME_DATA=${FEATURE_REAL_TIME_DATA:-true}
FEATURE_ADVANCED_ANALYTICS=${FEATURE_ADVANCED_ANALYTICS:-true}
FEATURE_SOCIAL_FEATURES=${FEATURE_SOCIAL_FEATURES:-false}
FEATURE_MOBILE_APP=${FEATURE_MOBILE_APP:-true}
FEATURE_API_VERSIONING=${FEATURE_API_VERSIONING:-true}

# SSL/TLS Configuration
SSL_CERT_PATH=${SSL_CERT_PATH}
SSL_KEY_PATH=${SSL_KEY_PATH}
SSL_CA_CERT_PATH=${SSL_CA_CERT_PATH}

# Logging Configuration
LOG_FORMAT=json
LOG_FILE_PATH=/app/logs/app.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10
LOG_ROTATION=daily

# Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'"

# API Documentation
API_DOCS_ENABLED=${API_DOCS_ENABLED:-false}
API_DOCS_URL=${API_DOCS_URL:-/docs}

# Maintenance Mode
MAINTENANCE_MODE=${MAINTENANCE_MODE:-false}
MAINTENANCE_MESSAGE=${MAINTENANCE_MESSAGE:-"System is under maintenance. Please try again later."}

# Resource Limits
MAX_REQUEST_SIZE=10485760  # 10MB
MAX_CONCURRENT_REQUESTS=1000
REQUEST_TIMEOUT=30

# Data Retention
DATA_RETENTION_DAYS=365
LOG_RETENTION_DAYS=90
METRICS_RETENTION_DAYS=30